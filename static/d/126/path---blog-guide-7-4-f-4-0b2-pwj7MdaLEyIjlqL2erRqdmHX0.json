{"data":{"markdownRemark":{"html":"<h2>Đọc bài blog và đưa lên page.</h2>\n<p>Trước tiên hãy cài đặt plugin của Gatsby:\n<code class=\"language-text\">yarn add gatsby-transformer-remark gatsby-remark-images</code></p>\n<p>Khi tôi làm đến đây, trong thư mục <code class=\"language-text\">posts</code> của mình đã có 7 bài blog rồi. Nhưng vì các bạn chưa có bài nào cả, nên chúng ta hãy cùng tạo một bài blog demo.</p>\n<p>Tạo một thư mục con tên là <code class=\"language-text\">demo</code> ở trong này. Đưa vào trong đó một file <code class=\"language-text\">index.md</code></p>\n<p><em>md?</em></p>\n<p>MD là viết tắt cho Markdown. Đây là một ngôn ngữ viết file Markup (file có đánh dấu các thành phần của nó, HTML là một) có thể được dễ dàng dịch sang HTML. Bạn nào dùng git nhiều rồi thì sẽ quen với file Readme.md, nhưng nếu không thì cũng không quan trọng, bây giờ thì chỉ cần viết theo mình thôi. Nếu các bạn cần tìm hiểu kỹ, hãy google Markdown syntax</p>\n<p>Bây giờ điền vào file <code class=\"language-text\">index.md</code> này đoạn code sau:</p>\n<div class=\"gatsby-highlight\" data-language=\"markdown\"><pre class=\"language-markdown\"><code class=\"language-markdown\"><span class=\"token hr punctuation\">---</span>\ndate: 2019-03-01\n<span class=\"token title important\">title: \"Demo Blog Post\"\n<span class=\"token punctuation\">---</span></span>\n\n<span class=\"token title important\"><span class=\"token punctuation\">#</span> My first blog post!</span>\n\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Sed sodales, erat a cursus iaculis, ante eros tempor eros, nec rhoncus augue ex gravida orci. Vestibulum a faucibus neque. Vivamus quis sem ut justo consequat commodo. Sed sit amet orci vel orci semper egestas. Curabitur et porta lorem. Integer condimentum, purus eu posuere congue, justo tellus facilisis justo, sit amet fermentum nulla velit non sem. Cras ultricies imperdiet est, eget blandit tortor pulvinar quis. Ut quis felis dui.</code></pre></div>\n<p>Thêm đoạn sau đây vào mục <code class=\"language-text\">plugins</code> file <code class=\"language-text\">gatsby-config.js</code></p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">{\n  resolve: `gatsby-source-filesystem`,\n  options: {\n      path: `${__dirname}/src/posts/`,\n      name: &quot;pages&quot;,\n  },\n},\n{\n    resolve: `gatsby-transformer-remark`,\n    options: {\n      plugins: [\n        {\n          resolve: `gatsby-remark-images`,\n          options: {\n            maxWidth: 590,\n          },\n        },\n      ],\n    },\n  },</code></pre></div>\n<h2>GraphQL, GraphiQL</h2>\n<p>Khi đọc các bài blog từ file markdown, Gatsby sẽ dịch nó thành HTML và lưu thông tin này vào dưới dạng các node tương tự như dữ liệu trong một Database và có thể truy vấn được bằng GraphQL</p>\n<p>GraphQL về cơ bản là một chuẩn viết API (giống REST). Khi Gatsby tạo được danh sách resource (bài blog, ảnh ...), code frontend của bạn có thể đọc nó bằng các query GraphQL.</p>\n<p>GraphiQL là một GUI để bạn test các query. Với Gatsby, bạn có thể truy cập GraphiQL ở <code class=\"language-text\">localhost:8000/___graphql</code></p>\n<p>Nếu bạn làm đúng theo những bước vừa rồi, chúng ta có thể query được bài blog theo cách như sau:</p>\n<ul>\n<li>Truy cập <code class=\"language-text\">localhost:8000/___graphql</code></li>\n<li>Nhập đoạn code sau vào mục bên tay trái:</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">query($title: String!) {\n    markdownRemark(frontmatter: { title: { eq: $title } }) {\n        html\n        frontmatter {\n            date\n            title\n        }\n    }\n}</code></pre></div>\n<p>Bấm vào dòng \"Query Variable\" ở dưới bên tay trái, sẽ có một ô nhập liệu hiện ra. Điền đoạn code sau vào ô đó:</p>\n<div class=\"gatsby-highlight\" data-language=\"json5\"><pre class=\"language-json5\"><code class=\"language-json5\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property unquoted\">title</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Demo Blog Post\"</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Chạy Query, bạn sẽ nhận được thông tin về bài viết của bạn, trông giống như sau:</p>\n<p><a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/4c1a950713b5e6c667d8049304c50155/8d0ff/query.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 53.75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAABG0lEQVQoz32S226EIBRF/f9PbJOmfbDOOKNc5Kro7gHDjGgVXTlEZbHJsfqtazRNg+fjmWA9A+ccQoiCnp53jKGnd73g77qh7XpUVhvUHYccNIKfEaYZfvQIIQAL3cuCeMlOoKlpwzvD8BArLS9QnUTlnIMnCa07jChDEgKKFrQfDRgxfN4gv+6Q3y2GnwfN23VO31Te+7x6TbMjizWd5EYpeUxC6ZRQUMYWaOtQjeP4ToOjKFdlDAydRlMA7SIuCQpIWgivEhprD4n+4yW8GlthTJKrznVDaso0TamrYQ5rLaDOhyktVieSQhj/MSkljNKwlGJP3NBaA6V1me5M6LzDTMngiXk5O3Rx5EvhqymZfWPyb5OELtUr4R+7cFjRVUg2fQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n        alt=\"query\"\n        title=\"\"\n        src=\"/static/4c1a950713b5e6c667d8049304c50155/b9e4f/query.png\"\n        srcset=\"/static/4c1a950713b5e6c667d8049304c50155/cf440/query.png 148w,\n/static/4c1a950713b5e6c667d8049304c50155/d2d38/query.png 295w,\n/static/4c1a950713b5e6c667d8049304c50155/b9e4f/query.png 590w,\n/static/4c1a950713b5e6c667d8049304c50155/f9b6a/query.png 885w,\n/static/4c1a950713b5e6c667d8049304c50155/2d849/query.png 1180w,\n/static/4c1a950713b5e6c667d8049304c50155/8d0ff/query.png 1440w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n  </span>\n  </a></p>\n<p>Vậy chúng ta có thể đọc được thông tin của các bài blog. Trong <a href=\"/blog-guide-8\">bài tiếp theo</a> chúng sẽ đưa nó vào trong trang web.</p>","frontmatter":{"date":"2019-04-25T00:00:00.000Z","title":"Mình đã làm trang blog này như thế nào (Phần 7)?"},"fields":{"slug":"/blog-guide-7/"}}},"pageContext":{"isCreatedByStatefulCreatePages":false}}